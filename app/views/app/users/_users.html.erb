<div class="relative   overflow-x-auto rounded-lg">
  <table class="w-full text-sm text-center ">
    <thead class="text-xs text-gray-900 uppercase bg-gray-100 dark:bg-gray-700 dark:text-gray-400">
      <tr>
        <% ['reference', 'created_at', 'updated_at', 'finished'].each do |attribute| %>
          <th scope="col" class="p-4 text-center">
            <%= App::User.human_attribute_name(attribute) %>
          </th>
        <% end %>
      </tr>
    </thead>
    <tbody>
      <% app_users.order(:finished, updated_at: :desc).each do |user| %>
        <div id="<%= dom_id user %>">

          <tr class="bg-white border-b dark:bg-gray-800 dark:border-gray-700">

            <td class="p-2">
              <%= user.reference %>
            </td>
            <td class="p-2">
              <%= user.created_at.strftime('%H:%M:%S') %>
            </td>
            <td class="p-2">
              <%= user.finished ? " #{user.updated_at.strftime('%H:%M:%S')}" : icon('fa-solid','spinner', class:'fa-spin')  %>            </td>
            <td class="p-2">
              <%= user.finished ? user.duration : time_ago_in_words( user.updated_at) %>
            </td>
            
          </tr>

        </div>
      <%end%>
    </tbody>
  </table>
</div>
